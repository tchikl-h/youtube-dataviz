{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "UploadFile.svelte"
  ],
  "sourcesContent": [
    "<script>\n    import { history } from \"/home/herve/repo/youtube-dataviz/src/store/history.js\";\n    let files;\n    let dataFile = null;\n    let isOnlyOneFile = false;\n    let isJson = true;\n    let isFileUnreadable = false;\n\n    function fileErrors() {\n        if (files > 1) {\n            isOnlyOneFile = false;\n            return true;\n        }\n        if (files[0].type !== \"application/json\") {\n            isJson = false;\n            return true\n        }\n        return false;\n    }\n\n    function upload() {\n        if (fileErrors()) {\n            return;\n        }\n        let file = files[0];\n        if (file) {\n            var reader = new FileReader();\n            reader.readAsText(file, \"UTF-8\");\n            reader.onload = function (evt) {\n                history.set(JSON.parse(evt.target.result));\n            }\n            reader.onerror = function (evt) {\n                isFileUnreadable = true;\n            }\n        }\n    }\n</script>\n\n<style>\n    @import url('//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css');\n\n    .isa_info, .isa_success, .isa_warning, .isa_error {\n    margin: 10px 0px;\n    padding:12px;\n    }\n    .isa_info {\n        color: #00529B;\n        background-color: #BDE5F8;\n    }\n    .isa_success {\n        color: #4F8A10;\n        background-color: #DFF2BF;\n    }\n    .isa_warning {\n        color: #9F6000;\n        background-color: #FEEFB3;\n    }\n    .isa_error {\n        color: #D8000C;\n        background-color: #FFD2D2;\n    }\n    .isa_info i, .isa_success i, .isa_warning i, .isa_error i {\n        margin:10px 22px;\n        font-size:2em;\n        vertical-align:middle;\n    }\n    .input-container {\n\t\ttext-align: center;\n        display: flex;\n        flex-flow: row;\n        justify-content: space-around;\n    }\n</style>\n\n<div class=\"input-container\">\n    <input id=\"fileUpload\" type=\"file\" bind:files>\n    \n    {#if dataFile && files[0]}\n        <p>\n            {files[0].name}\n        </p>\n    {/if}\n    \n    {#if files}\n        <button class=\"bg-white active:bg-gray-100 text-gray-800 font-normal px-4 py-2 rounded outline-none focus:outline-none mr-2 mb-1 uppercase shadow hover:shadow-md inline-flex items-center font-bold text-xs ease-linear transition-all duration-150\" on:click={upload}>Submit</button>\n    {:else}\n        <button class=\"bg-grey active:bg-gray-100 text-gray-800 font-normal px-4 py-2 rounded outline-none focus:outline-none mr-2 mb-1 uppercase shadow hover:shadow-md inline-flex items-center font-bold text-xs ease-linear transition-all duration-150\" on:click={upload} disabled>Submit</button>\n    {/if}\n</div>\n{#if isOnlyOneFile}\n    <div class=\"isa_error input-container\">\n        <i class=\"fa fa-times-circle\"></i>\n        You should only choose one file.\n    </div>\n{/if}\n{#if !isJson}\n    <div class=\"isa_error input-container\">\n        <i class=\"fa fa-times-circle\"></i>\n        The file needs to be of type JSON.\n    </div>\n{/if}\n{#if isFileUnreadable}\n    <div class=\"isa_error input-container\">\n        <i class=\"fa fa-times-circle\"></i>\n        The file loaded is unreadable.\n    </div>\n{/if}"
  ],
  "names": [],
  "mappings": "AAuCI,QAAQ,IAAI,uEAAuE,CAAC,CAAC,AAE9C,UAAU,8BAAC,CAAC,AACnD,MAAM,CAAE,IAAI,CAAC,GAAG,CAChB,QAAQ,IAAI,AACZ,CAAC,AAaD,UAAU,8BAAC,CAAC,AACR,KAAK,CAAE,OAAO,CACd,gBAAgB,CAAE,OAAO,AAC7B,CAAC,AAC4C,yBAAU,CAAC,CAAC,eAAC,CAAC,AACvD,OAAO,IAAI,CAAC,IAAI,CAChB,UAAU,GAAG,CACb,eAAe,MAAM,AACzB,CAAC,AACD,gBAAgB,8BAAC,CAAC,AACpB,UAAU,CAAE,MAAM,CACZ,OAAO,CAAE,IAAI,CACb,SAAS,CAAE,GAAG,CACd,eAAe,CAAE,YAAY,AACjC,CAAC"
}